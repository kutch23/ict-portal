<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Samuel Centenary Junior - ICT Portal</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        body { background: #f4f7f6; }
        .school-header { background: #003366; color: white; padding: 20px; text-align: center; }
        .section-box { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 20px; }
    </style>
</head>
<body>

<div class="school-header">
    <h1>Samuel Centenary Junior School</h1>
    <p>ICT Department Resource Portal</p>
</div>

<div class="container mt-4">
    <div class="section-box">
        <h3>üìö Class Resources</h3>
        <p class="text-muted">Notes, Videos, and Exercises (View Only)</p>
        <ul class="list-group">
            <li class="list-group-item"><a href="YOUR_GOOGLE_DRIVE_FOLDER_LINK" target="_blank">Click here to view all ICT Notes & Videos</a></li>
        </ul>
    </div>

    <div class="section-box">
        <h3>üì§ Submit Your Work</h3>
        <form id="uploadForm">
            <div class="mb-3">
                <label>Student ID</label>
                <input type="text" id="studentId" class="form-control" placeholder="Enter your ID (e.g. SCJ-123)" required>
            </div>
            <div class="mb-3">
                <label>Select File (Max 10MB)</label>
                <input type="file" id="fileInput" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-primary w-100">Upload to My Folder</button>
        </form>
        <div id="status" class="mt-3"></div>
    </div>
</div>

<script>
    const scriptURL = https://script.google.com/macros/s/AKfycbyiyOrIGPEi8mwD5WJn3-omJLAyYiiLtOTAKYMYql5FMeA6ZzvV-N8lnApntACwMgRdRA/exec'; // We will get this in Step 2

    document.getElementById('uploadForm').addEventListener('submit', e => {
        e.preventDefault();
        const status = document.getElementById('status');
        status.innerHTML = "Uploading... please wait.";
        
        const file = document.getElementById('fileInput').files[0];
        const studentId = document.getElementById('studentId').value;
        const reader = new FileReader();

        reader.onload = function(e) {
            const data = {
                base64: e.target.result.split(',')[1],
                type: file.type,
                name: file.name,
                studentId: studentId
            };
            
            fetch(scriptURL, {
                method: 'POST',
                body: JSON.stringify(data)
            })
            .then(res => res.json())
            .then(out => {
                status.innerHTML = `<span class="text-success">‚úÖ Done! File saved in ${studentId}'s folder.</span>`;
            })
            .catch(err => status.innerHTML = "‚ùå Error uploading. Check connection.");
        };
        reader.readAsDataURL(file);
    });
</script>
</body>
</html>
